# 10 æšä¸¾ç±»çš„æ­£ç¡®å­¦ä¹ æ–¹å¼

æ›´æ–°æ—¶é—´ï¼š2019-11-08 11:29:47

![img](http://img.mukewang.com/5dc292b7000100a206400359.jpg)

![img](http://www.imooc.com/static/img/column/bg-l.png)

![img](http://www.imooc.com/static/img/column/bg-r.png)



# 1. å‰è¨€

ã€Šæ‰‹å†Œã€‹ç¬¬ 3 ã€4 ã€39 é¡µä¸­æœ‰å‡ æ®µå…³äºæšä¸¾ç±»å‹çš„æè¿° [1](http://www.imooc.com/read/55/article/1147#fn1) ï¼š

> ã€å‚è€ƒã€‘æšä¸¾ç±»åå¸¦ä¸Š Enum åç¼€ï¼Œæšä¸¾æˆå‘˜åç§°éœ€è¦å…¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ã€‚
> è¯´æ˜ï¼šæšä¸¾å…¶å®å°±æ˜¯ç‰¹æ®Šçš„ç±»ï¼ŒåŸŸæˆå‘˜å‡ä¸ºå¸¸é‡ï¼Œä¸”æ„é€ æ–¹æ³•è¢«é»˜è®¤å¼ºåˆ¶æ˜¯ç§æœ‰ã€‚
>
> ã€æ¨èã€‘å¦‚æœå˜é‡å€¼ä»…åœ¨ä¸€ä¸ªå›ºå®šèŒƒå›´å†…å˜åŒ–ç”¨ enum ç±»å‹æ¥å®šä¹‰ã€‚
>
> ã€å¼ºåˆ¶ã€‘äºŒæ–¹åº“é‡Œå¯ä»¥å®šä¹‰æšä¸¾ç±»å‹ï¼Œå‚æ•°å¯ä»¥ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œä½†æ˜¯æ¥å£è¿”å›å€¼ä¸å…è®¸ä½¿ç”¨ æšä¸¾ç±»å‹æˆ–è€…åŒ…å«æšä¸¾ç±»å‹çš„ POJO å¯¹è±¡ã€‚

å¤§å¤šæ•° Java ç¨‹åºå‘˜å¯¹æšä¸¾ç±»å‹ä¸€çŸ¥åŠè§£ï¼Œå¤§å¤šæ•°ç¨‹åºå‘˜å¯¹æšä¸¾çš„ç”¨æ³•éƒ½éå¸¸ç®€å•ã€‚

æœ¬å°èŠ‚ä¸»è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š

- é‚£ä¹ˆæšä¸¾ç±»ç©¶ç«Ÿæ˜¯æ€æ ·çš„ï¼Ÿ
- é»˜è®¤çš„æ„é€ æ–¹æ³•ä¸ºä½•æ˜¯ç§æœ‰çš„ï¼Ÿ
- ä¸ºä»€ä¹ˆæ¥å£ä¸è¦è¿”å›æšä¸¾ç±»å‹ã€‚
- æšä¸¾ç±»è¿˜æœ‰å“ªäº›é«˜çº§ç”¨æ³•ï¼Ÿ



# 2. å­¦ä¹ æšä¸¾ç±»



## 2.1 å‹¿å¿˜åˆå¿ƒ

æˆ‘ä»¬å­¦ä¹ ä¸€ä¸ªæ¡†æ¶ï¼Œå­¦ä¹ ä¸€ä¸ªè¯­è¨€ç‰¹æ€§æ—¶ï¼Œå¯ä»¥æ€è€ƒä¸€ä¸‹è¿™ä¸ªæ¡†æ¶å’Œè¯­è¨€ç‰¹æ€§å‡ºç°çš„åŸå› ã€‚

æšä¸¾ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºä¸€ç»„ç›¸åŒç±»å‹çš„å¸¸é‡ï¼Œæ¯”å¦‚æœˆä»½ã€æ˜ŸæœŸã€é¢œè‰²ç­‰ã€‚

æšä¸¾çš„ä¸»è¦ä½¿ç”¨åœºæ™¯æ˜¯ï¼Œå½“éœ€è¦ä¸€ç»„å›ºå®šçš„å¸¸é‡ï¼Œå¹¶ä¸”ç¼–è¯‘æ—¶æˆå‘˜å°±å·²èƒ½ç¡®å®šæ—¶å°±åº”è¯¥ä½¿ç”¨æšä¸¾ã€‚[2](http://www.imooc.com/read/55/article/1147#fn2)

å› æ­¤æšä¸¾ç±»å‹æ²¡å¿…è¦å¤šä¾‹ï¼Œå¦‚æœèƒ½å¤Ÿä¿è¯å•ä¾‹ï¼Œåˆ™å¯ä»¥å‡å°‘å†…å­˜å¼€é”€ã€‚

å¦å¤–æšä¸¾ä¸ºæ•°å€¼æä¾›äº†å‘½åï¼Œæ›´å®¹æ˜“ç†è§£ï¼Œè€Œä¸”æšä¸¾æ›´åŠ å®‰å…¨ï¼ŒåŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚



## 2.2 å®˜æ–¹æ–‡æ¡£æ³•

å‰é¢ä»‹ç»è¿‡ï¼Œä¼˜å…ˆé€šè¿‡å®˜æ–¹æ–‡æ¡£æ¥å­¦ä¹  Java çš„è¯­è¨€ç‰¹æ€§ã€‚

JLS [8.9 èŠ‚ Enum Types](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9) å¯¹æšä¸¾ç±»å‹è¿›è¡Œäº†è¯¦ç»†åœ°ä»‹ç» [3](http://www.imooc.com/read/55/article/1147#fn3)ã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š

> å¦‚æœæšä¸¾ç±»å¦‚æœè¢« abstract æˆ– final ä¿®é¥°ï¼Œæšä¸¾å¦‚æœå¸¸é‡é‡å¤ï¼Œå¦‚æœå°è¯•å®ä¾‹åŒ–æšä¸¾ç±»å‹éƒ½ä¼šæœ‰ç¼–è¯‘é”™è¯¯ã€‚
>
> æšä¸¾ç±»é™¤å£°æ˜çš„æšä¸¾å¸¸é‡æ²¡æœ‰å…¶ä»–å®ä¾‹ã€‚
>
> æšä¸¾ç±»å‹çš„ E æ˜¯ Enum çš„ç›´æ¥å­ç±»ã€‚

é‚£ä¹ˆ Java æ˜¯å¦‚ä½•ä¿è¯é™¤äº†å®šä¹‰çš„æšä¸¾å¸¸é‡å¤–æ²¡æœ‰å…¶ä»–å®ä¾‹å‘¢ï¼Ÿ

ä»æ‰‹å†Œä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åŸå› ï¼š

- Enum çš„ clone æ–¹æ³•è¢« final ä¿®é¥°ï¼Œä¿è¯ enum å¸¸é‡ä¸ä¼šè¢«å…‹éš†ã€‚
- ç¦æ­¢å¯¹æšä¸¾ç±»å‹çš„åå°„ã€‚
- åºåˆ—åŒ–æœºåˆ¶ä¿è¯ååºåˆ—åŒ–æ—¶æšä¸¾ç±»å‹ä¸å…è®¸æ„é€ å¤šä¸ªç›¸åŒå®ä¾‹ã€‚

é€šè¿‡è¿™äº›æç¤ºï¼Œæˆ‘ä»¬å°±æ˜ç™½ä¸ºä½•æšä¸¾ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œ

æ–‡æ¡£ä¸­è¿˜ä»‹ç»äº†æšä¸¾çš„æˆå‘˜ï¼Œæšä¸¾çš„è¿­ä»£ï¼Œæšä¸¾ç±»å‹ä½œä¸º switch çš„æ¡ä»¶ï¼Œå¸¦æŠ½è±¡å‡½æ•°çš„æšä¸¾å¸¸é‡ç­‰ã€‚



## 2.3 Java åæ±‡ç¼–

æˆ‘ä»¬é€‰å– JLS ä¸­çš„ä¸€ä¸ªä»£ç ç‰‡æ®µï¼š

```java
public enum CoinEnum {
    PENNY(1), NICKEL(5), DIME(10), QUARTER(25);

    CoinEnum(int value) {
        this.value = value;
    }

    private final int value;
    public int value() { return value; }
}
```

å…ˆç¼–è¯‘ï¼š `javac CoinEnum.java`

ç„¶åå†åæ±‡ç¼–ï¼š`javap -c CoinEnum`

å¾—åˆ°ä¸‹é¢çš„åæ±‡ç¼–åçš„ä»£ç ï¼š

```java
public final class com.imooc.basic.learn_enum.CoinEnum extends java.lang.Enum<com.imooc.basic.learn_enum.CoinEnum> {
  public static final com.imooc.basic.learn_enum.CoinEnum PENNY;

  public static final com.imooc.basic.learn_enum.CoinEnum NICKEL;

  public static final com.imooc.basic.learn_enum.CoinEnum DIME;

  public static final com.imooc.basic.learn_enum.CoinEnum QUARTER;

  // ç¬¬ 1 å¤„ä»£ç 
  public static com.imooc.basic.learn_enum.CoinEnum[] values();
    Code:
       0: getstatic     #1                  // Field $VALUES:[Lcom/imooc/basic/learn_enum/CoinEnum;
       3: invokevirtual #2                  // Method "[Lcom/imooc/basic/learn_enum/CoinEnum;".clone:()Ljava/lang/Object;
       6: checkcast     #3                  // class "[Lcom/imooc/basic/learn_enum/CoinEnum;"
       9: areturn

   // ç¬¬ 2 å¤„ä»£ç 
  public static com.imooc.basic.learn_enum.CoinEnum valueOf(java.lang.String);
    Code:
       0: ldc           #4                  // class com/imooc/basic/learn_enum/CoinEnum
       2: aload_0
       3: invokestatic  #5                  // Method java/lang/Enum.valueOf:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;
       6: checkcast     #4                  // class com/imooc/basic/learn_enum/CoinEnum
       9: areturn

  public int value();
    Code:
       0: aload_0
       1: getfield      #7                  // Field value:I
       4: ireturn

  static {};
    Code:
       0: new           #4                  // class com/imooc/basic/learn_enum/CoinEnum
       3: dup
       4: ldc           #8                  // String PENNY
       6: iconst_0
       7: iconst_1
       8: invokespecial #9                  // Method "<init>":(Ljava/lang/String;II)V
      11: putstatic     #10                 // Field PENNY:Lcom/imooc/basic/learn_enum/CoinEnum;
      14: new           #4                  // class com/imooc/basic/learn_enum/CoinEnum
      17: dup
      18: ldc           #11                 // String NICKEL
      20: iconst_1
      21: iconst_5
      22: invokespecial #9                  // Method "<init>":(Ljava/lang/String;II)V
      25: putstatic     #12                 // Field NICKEL:Lcom/imooc/basic/learn_enum/CoinEnum;
      28: new           #4                  // class com/imooc/basic/learn_enum/CoinEnum
      31: dup
      32: ldc           #13                 // String DIME
      34: iconst_2
      35: bipush        10
      37: invokespecial #9                  // Method "<init>":(Ljava/lang/String;II)V
      40: putstatic     #14                 // Field DIME:Lcom/imooc/basic/learn_enum/CoinEnum;
      43: new           #4                  // class com/imooc/basic/learn_enum/CoinEnum
      46: dup
      47: ldc           #15                 // String QUARTER
      49: iconst_3
      50: bipush        25
      52: invokespecial #9                  // Method "<init>":(Ljava/lang/String;II)V
      55: putstatic     #16                 // Field QUARTER:Lcom/imooc/basic/learn_enum/CoinEnum;
      58: iconst_4
      59: anewarray     #4                  // class com/imooc/basic/learn_enum/CoinEnum
      62: dup
      63: iconst_0
      64: getstatic     #10                 // Field PENNY:Lcom/imooc/basic/learn_enum/CoinEnum;
      67: aastore
      68: dup
      69: iconst_1
      70: getstatic     #12                 // Field NICKEL:Lcom/imooc/basic/learn_enum/CoinEnum;
      73: aastore
      74: dup
      75: iconst_2
      76: getstatic     #14                 // Field DIME:Lcom/imooc/basic/learn_enum/CoinEnum;
      79: aastore
      80: dup
      81: iconst_3
      82: getstatic     #16                 // Field QUARTER:Lcom/imooc/basic/learn_enum/CoinEnum;
      85: aastore
      86: putstatic     #1                  // Field $VALUES:[Lcom/imooc/basic/learn_enum/CoinEnum;
      89: return
}
```

é€šè¿‡å¼€å¤´ä½ç½®çš„ç»§æ‰¿å…³ç³» `com.imooc.basic.learn_enum.Coin extends java.lang.Enum`ï¼ŒéªŒè¯äº†å®˜æ–¹æ‰‹å†Œæè¿°çš„ â€œæšä¸¾ç±»å‹çš„ E æ˜¯ Enum çš„ç›´æ¥å­ç±»ã€‚â€ çš„è¯´æ³•ã€‚

æˆ‘ä»¬è¿˜çœ‹åˆ°æšä¸¾ç±»ç¼–è¯‘åè¢«è¢«è‡ªåŠ¨åŠ ä¸Š `final` å…³é”®å­—ã€‚

æšä¸¾å¸¸é‡ä¹Ÿä¼šè¢«åŠ ä¸Š `public static final` ä¿®é¥°ã€‚

å¦å¤–æˆ‘ä»¬è¿˜æ³¨æ„åˆ°å’Œæºç ç›¸æ¯”å¤šäº†ä¸¤ä¸ªå‡½æ•°ï¼š

å…¶ä¸­ä¸€ä¸ªä¸ºï¼š`public static com.imooc.basic.learn_enum.CoinEnum valueOf(java.lang.String);` ï¼ˆè§ â€œç¬¬ 2 å¤„ä»£ç â€ ï¼‰

```java
// ç¬¬ 2 å¤„ä»£ç 
  public static com.imooc.basic.learn_enum.CoinEnum valueOf(java.lang.String);
    Code:
       0: ldc           #4                  // class com/imooc/basic/learn_enum/CoinEnum
       2: aload_0
       3: invokestatic  #5                  // Method java/lang/Enum.valueOf:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;
       6: checkcast     #4                  // class com/imooc/basic/learn_enum/CoinEnum
       9: areturn
```

**è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå¹²å˜›ç”¨çš„å‘¢ï¼Ÿ**

é€šè¿‡ç¬¬ 2 å¤„ä»£ç çš„ code åç§»ä¸º 3 å¤„çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºè°ƒç”¨äº† `java.lang.Enum#valueOf` å‡½æ•°ã€‚

æˆ‘ä»¬ç›´æ¥æ‰¾åˆ°è¯¥å‡½æ•°çš„æºç ï¼š

```java
/**
 * Returns the enum constant of the specified enum type with the
 * specified name.  The name must match exactly an identifier used
 * to declare an enum constant in this type.  (Extraneous whitespace
 * characters are not permitted.)
 *
 * <p>Note that for a particular enum type {@code T}, the
 * implicitly declared {@code public static T valueOf(String)}
 * method on that enum may be used instead of this method to map
 * from a name to the corresponding enum constant.  All the
 * constants of an enum type can be obtained by calling the
 * implicit {@code public static T[] values()} method of that
 * type.
 *
 * @param <T> The enum type whose constant is to be returned
 * @param enumType the {@code Class} object of the enum type from which
 *      to return a constant
 * @param name the name of the constant to return
 * @return the enum constant of the specified enum type with the
 *      specified name
 * @throws IllegalArgumentException if the specified enum type has
 *         no constant with the specified name, or the specified
 *         class object does not represent an enum type
 * @throws NullPointerException if {@code enumType} or {@code name}
 *         is null
 * @since 1.5
 */
public static <T extends Enum<T>> T valueOf(Class<T> enumType,
                                            String name) {
    T result = enumType.enumConstantDirectory().get(name);
    if (result != null)
        return result;
    if (name == null)
        throw new NullPointerException("Name is null");
    throw new IllegalArgumentException(
        "No enum constant " + enumType.getCanonicalName() + "." + name);
}
```

æ ¹æ®æ³¨é‡Šæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š

- è¯¥å‡½æ•°çš„åŠŸèƒ½æ—¶æ ¹æ®æšä¸¾åç§°å’Œæšä¸¾ç±»å‹æ‰¾åˆ°å¯¹åº”çš„æšä¸¾å¸¸é‡ã€‚
- æ‰€æœ‰çš„æšä¸¾ç±»å‹æœ‰ä¸€ä¸ªéšå¼çš„å‡½æ•° `public static T valueOf(String)` ç”¨æ¥æ ¹æ®æšä¸¾åç§°æ¥è·å–æšä¸¾å¸¸é‡ã€‚
- å¦‚æœæƒ³è·å–å½“å‰æšä¸¾çš„æ‰€æœ‰æšä¸¾å¸¸é‡å¯ä»¥é€šè¿‡è°ƒç”¨éšå¼çš„ `public static T[] values()` å‡½æ•°æ¥å®ç°ã€‚

å¦å¤–ä¸€ä¸ªå°±æ˜¯ä¸Šé¢æåˆ°çš„ `public static com.imooc.basic.learn_enum.CoinEnum[] values();` å‡½æ•°ã€‚

æˆ‘ä»¬å›åˆ°ä¸Šé¢åæ±‡ç¼–çš„ä»£ç ï¼Œåç§»ä¸º 58 åˆ° 96 çš„æŒ‡ä»¤è½¬ä¸º Java **ä»£ç æ•ˆæœ**å’Œä¸‹é¢å¾ˆç±»ä¼¼ï¼š

```java
  private static CoinEnum[] $VALUES;
  static {
      $VALUES = new CoinEnum[4];
      $VALUES[0] = PENNY;
      $VALUES[1] = NICKEL;
      $VALUES[2] = DIME;
      $VALUES[3] = QUARTER;
  }
```

æ ¹æ®ç¬¬ 1 å¤„ä»£ç 

```java
 // ç¬¬ 1 å¤„ä»£ç 
  public static com.imooc.basic.learn_enum.CoinEnum[] values();
    Code:
       0: getstatic     #1                  // Field $VALUES:[Lcom/imooc/basic/learn_enum/CoinEnum;
       3: invokevirtual #2                  // Method "[Lcom/imooc/basic/learn_enum/CoinEnum;".clone:()Ljava/lang/Object;
       6: checkcast     #3                  // class "[Lcom/imooc/basic/learn_enum/CoinEnum;"
       9: areturn
```

æˆ‘ä»¬å¯ä»¥å¤§è‡´è¿˜åŸæˆä¸‹é¢çš„ä»£ç ï¼š

```java
 public static CoinEnum[] values() {
     return $VALUES.clone();
 }
```

å› æ­¤æ•´ä½“çš„é€»è¾‘å°±å¾ˆæ¸…æ¥šäº†ã€‚

ç»“åˆå‰é¢æ‹·è´ç« èŠ‚è®²åˆ°çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥å¤§å®¶æ€è€ƒä¸‹ä¸€ä¸ªæ–°é—®é¢˜ï¼š**ä¸ºä»€ä¹ˆè¿”å›å…‹éš†å¯¹è±¡è€Œä¸æ˜¯å±æ€§é‡Œçš„æšä¸¾æ•°ç»„å‘¢ï¼Ÿ**

å…¶å®è¿™æ ·è®¾è®¡çš„ä¸»è¦åŸå› æ˜¯ï¼šé¿å…æšä¸¾æ•°ç»„åœ¨å¤–éƒ¨è¿›è¡Œä¿®æ”¹ï¼Œå½±å“åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨ï¼š`CoinEnum.values()` çš„ç»“æœã€‚å¦‚ï¼š

```java
 @Test
 public void testValues(){
      CoinEnum[] values1 = CoinEnum.values();
      values1[0] = CoinEnum.QUARTER;

      CoinEnum[] values2 = CoinEnum.values();
      Assert.assertEquals(values2[0],CoinEnum.PENNY);
 }
```

é€šè¿‡ä¸Šé¢ä»£ç ç‰‡æ®µå¯ä»¥çœ‹å‡ºï¼šå¯¹é€šè¿‡ clone å‡½æ•°æ„é€ çš„æ–°çš„æ•°ç»„å¯¹è±¡ï¼ˆvalues1ï¼‰çš„æŸä¸ªå…ƒç´ é‡æ–°èµ‹å€¼å¹¶ä¸ä¼šå½±å“åˆ°åŸæ•°ç»„ã€‚

å› æ­¤å†æ¬¡è°ƒç”¨ `CoinEnum.values()` ä»ç„¶ä¼šè¿”å›åŸºäºåŸå§‹æšä¸¾æ•°ç»„åˆ›å»ºçš„æ–°çš„æ‹·è´å¯¹è±¡ï¼ˆvalues2ï¼‰ã€‚



## 2.4 æºç å¤§æ³•

é€šè¿‡å®˜æ–¹æ–‡æ¡£å’Œåæ±‡ç¼–ï¼Œæˆ‘ä»¬çŸ¥é“ï¼šæšä¸¾ç±»éƒ½æ˜¯ `java.lang.Enum` çš„å­ç±»å‹ã€‚æ­£å› å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹ `Enum` ç±»çš„æºç æ¥å­¦ä¹ æšä¸¾çš„ä¸€äº›çŸ¥è¯†ã€‚

æˆ‘ä»¬é€šè¿‡ IDEA è‡ªå¸¦çš„ Diagrams -> Show Diagrams -> Java Class Diagram å¯ä»¥çœ‹åˆ° Enum ç±»çš„ç»§æ‰¿å…³ç³»ï¼Œä»¥åŠå±æ€§å’Œå‡½æ•°ç­‰ä¿¡æ¯ã€‚
![å›¾ç‰‡æè¿°](http://img.mukewang.com/5dc4e11a0001280506420572.png)

å¯ä»¥çœ‹åˆ°å®ç°äº† `Comparable` å’Œ `Serializable` æ¥å£ã€‚

**é‚£ä¹ˆä¸ºä»€ä¹ˆè¦å®ç°è¿™ä¸¤ä¸ªæ¥å£ï¼Ÿ**

- å®ç° `Comparable` æ¥å£å¾ˆå¥½ç†è§£ï¼Œæ˜¯ä¸ºäº†æ’åºã€‚
- å®ç° `Serializable` æ¥å£æ˜¯ä¸ºäº†åºåˆ—åŒ–ã€‚

å‰é¢åºåˆ—åŒ–çš„å°èŠ‚ä¸­è®²åˆ°ï¼šâ€œä¸€ä¸ªç±»å®ç°åºåˆ—åŒ–æ¥å£ï¼Œé‚£ä¹ˆå…¶å­ç±»ä¹Ÿå…·å¤‡åºåˆ—åŒ–çš„èƒ½åŠ›ã€‚â€

ä»è¿™é‡Œå¤§å®¶å°±ä¼šæ˜ç™½ï¼Œæ­£æ˜¯å› ä¸ºå…¶çˆ¶ç±» `Enum` å®ç°äº†åºåˆ—åŒ–æ¥å£ï¼Œæˆ‘ä»¬çš„æšä¸¾ç±»æ²¡æœ‰æ˜¾å¼å®ç°åºåˆ—åŒ–æ¥å£ï¼Œä½¿ç”¨ Java åŸç”Ÿåºåˆ—åŒ–ä¹Ÿå¹¶ä¸ä¼šæŠ¥é”™ã€‚

å…¶ä¸­ `Enum` ç±»æœ‰ä¸¤ä¸ªå±æ€§ **ï¼š

`name` è¡¨ç¤ºæšä¸¾çš„åç§°ã€‚

`ordinal` è¡¨ç¤ºæšä¸¾çš„é¡ºåºï¼Œå…¶ä¸»è¦ç”¨åœ¨ `java.util.EnumSet` å’Œ `java.util.EnumMap` è¿™ä¸¤ç§åŸºäºæšä¸¾çš„æ•°æ®ç»“æ„ä¸­ã€‚

æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç»§ç»­ç ”ç©¶è¿™ä¸¤ä¸ªæ•°æ®ç»“æ„çš„ç”¨æ³•ã€‚

æ¥ä¸‹æ¥æˆ‘å¸¦å¤§å®¶é‡ç‚¹çœ‹ä¸¤ä¸ªå‡½æ•°çš„æºç ï¼š `java.lang.Enum#clone` å‡½æ•°å’Œ `java.lang.Enum#compareTo` å‡½æ•°ã€‚

æˆ‘ä»¬æŸ¥çœ‹ `Enum` ç±»çš„ `clone` å‡½æ•°ï¼š

```java
/**
 * Throws CloneNotSupportedException.  This guarantees that enums
 * are never cloned, which is necessary to preserve their "singleton"
 * status.
 *
 * @return (never returns)
 */
protected final Object clone() throws CloneNotSupportedException {
    throw new CloneNotSupportedException();
}
```

é€šè¿‡æ³¨é‡Šå’Œæºç æˆ‘ä»¬å¯ä»¥æ˜ç¡®åœ°å­¦ä¹ åˆ°ï¼Œæšä¸¾ç±»ä¸æ”¯æŒ `clone` , å¦‚æœè°ƒç”¨ä¼šæŠ¥ `CloneNotSupportedException` å¼‚å¸¸ã€‚

**ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æšä¸¾ä¸èƒ½è¢«å…‹éš†ï¼Œç»´æŒå•ä¾‹çš„çŠ¶æ€**ã€‚

æˆ‘ä»¬çŸ¥é“å³ä½¿å°†æ„é€ æ–¹æ³•è®¾ç½®ä¸ºç§æœ‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åå°„æœºåˆ¶ `setAccessible` ä¸º `true` åè°ƒç”¨ã€‚æ™®é€šçš„ç±»å¯ä»¥é€šè¿‡ `java.lang.reflect.Constructor#newInstance` æ¥æ„é€ å®ä¾‹ï¼Œè¿™æ ·å°±ç ´åäº†å•ä¾‹ã€‚

ç„¶è€Œåœ¨è¯¥å‡½æ•°æºç ä¸­å¯¹æšä¸¾ç±»å‹ä¼šä½œåˆ¤æ–­å¹¶æŠ¥ `IllegalArgumentException`ã€‚

```java
public T newInstance(Object ... initargs)
    throws InstantiationException, IllegalAccessException,
           IllegalArgumentException, InvocationTargetException
{
    // çœç•¥..
    if ((clazz.getModifiers() & Modifier.ENUM) != 0)
        throw new IllegalArgumentException("Cannot reflectively create enum objects");
 
     // çœç•¥..
    return inst;
}
```

è¿™æ ·å°±é˜²æ­¢äº†é€šè¿‡åå°„æ¥æ„é€ æšä¸¾å®ä¾‹çš„å¯èƒ½æ€§ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ `compareTo` å‡½æ•°æºç ï¼š

```java
/**
 * Compares this enum with the specified object for order.  Returns a
 * negative integer, zero, or a positive integer as this object is less
 * than, equal to, or greater than the specified object.
 *
 * Enum constants are only comparable to other enum constants of the
 * same enum type.  The natural order implemented by this
 * method is the order in which the constants are declared.
 */
public final int compareTo(E o) {
    Enum<?> other = (Enum<?>)o;
    Enum<E> self = this;
    if (self.getClass() != other.getClass() && // optimization
        self.getDeclaringClass() != other.getDeclaringClass())
        throw new ClassCastException();
    return self.ordinal - other.ordinal;
}
```

æ ¹æ®æ³¨é‡Šå’Œæºç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå…¶æ’åºçš„ä¾æ®æ˜¯ æšä¸¾å¸¸é‡åœ¨æšä¸¾ç±»çš„å£°æ˜é¡ºåºã€‚



## 2.5 æ–­ç‚¹å¤§æ³•

é‚£ä¹ˆæˆ‘ä»¬æƒ³æƒ³ä¸ºå•¥ã€Šæ‰‹å†Œã€‹ä¸­ä¼šæœ‰ä¸‹é¢çš„è¿™ä¸ªè§„å®šå‘¢ï¼Ÿ

> ã€å¼ºåˆ¶ã€‘äºŒæ–¹åº“é‡Œå¯ä»¥å®šä¹‰æšä¸¾ç±»å‹ï¼Œå‚æ•°å¯ä»¥ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œä½†æ˜¯æ¥å£è¿”å›å€¼ä¸å…è®¸ä½¿ç”¨æšä¸¾ç±»å‹æˆ–è€…åŒ…å«æšä¸¾ç±»å‹çš„ POJO å¯¹è±¡ã€‚
>
> æ³¨ï¼š
>
> äºŒæ–¹æ˜¯æŒ‡å…¬å¸å†…éƒ¨çš„å…¶ä»–éƒ¨é—¨ï¼›
>
> äºŒæ–¹åº“æ˜¯æŒ‡å…¬å¸å†…éƒ¨å‘å¸ƒåˆ°ä¸­å¤®ä»“åº“ï¼Œå¯ä¾›å…¬å¸å†…éƒ¨å…¶ä»–åº”ç”¨ä¾èµ–çš„åº“ï¼ˆjar åŒ…ï¼‰ã€‚

æˆ‘ä»¬å†™ä¸€ä¸ªæµ‹è¯•å‡½æ•°æ¥ç ”ç©¶è¿™ä¸ªé—®é¢˜ï¼š

```java
@Test
public void serialTest() {
    CoinEnum[] values = CoinEnum.values();
    // åºåˆ—åŒ–
    byte[] serialize = SerializationUtils.serialize(values);

    log.info("åºåˆ—åŒ–åçš„å­—ç¬¦ï¼š{}",new String(serialize));
    // ååºåˆ—åŒ–
    CoinEnum[] values2 = SerializationUtils.deserialize(serialize);

    Assert.assertTrue(Objects.deepEquals(values, values2));
}
```

æˆ‘ä»¬åœ¨ `java.lang.Enum#valueOf` å‡½æ•°ç¬¬ä¸€è¡Œæ‰“æ–­ç‚¹ã€‚
![å›¾ç‰‡æè¿°](http://img.mukewang.com/5dc4e10500019a2812060761.png)

å¤§å®¶ä¸€å®šè¦è‡ªå·±å°è¯•åŒå‡»å·¦ä¸‹è§’çš„è°ƒç”¨æ ˆéƒ¨åˆ†ï¼ŒæŸ¥çœ‹ä»é¡¶å±‚è°ƒç”¨

`org.apache.commons.lang3.SerializationUtils#deserialize(byte[])` åˆ°

`java.lang.Enum#valueOf` çš„æ•´ä¸ªè°ƒç”¨è¿‡ç¨‹ã€‚å¤§å®¶è¿˜å¯ä»¥é€šè¿‡è¡¨è¾¾å¼æ¥æŸ¥çœ‹å‚æ•°çš„å„ç§å±æ€§ã€‚

å¯ä»¥çœ‹åˆ°æšä¸¾çš„ååºåˆ—åŒ–æ˜¯é€šè¿‡è°ƒç”¨ `java.lang.Enum#valueOf` æ¥å®ç°çš„ **ã€‚

å¦å¤–æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åºåˆ—åŒ–åçš„å­—èŠ‚æµçš„å­—ç¬¦è¡¨ç¤ºå½¢å¼ï¼š

åºåˆ—åŒ–åçš„å­—ç¬¦ï¼š

> ï¿½ï¿½ur&[Lcom.imooc.basic.learn_enum.CoinEnum;Ä‹ï¿½ï¿½ï¿½>ï¿½ï¿½xpr#com.imooc.basic.learn_enum.CoinEnumxrjava.lang.EnumxptPENNYqtNICKELqtDIMEq~tQUARTER

å¤§è‡´å¯ä»¥çœ‹å‡ºï¼Œåºåˆ—åŒ–åçš„æ•°æ®ä¸­ä¸»è¦åŒ…å«**æšä¸¾çš„ç±»å‹**å’Œ**æšä¸¾åç§°**ã€‚

æˆ‘ä»¬äº†è§£äº†æšä¸¾çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åŸç†åæˆ‘ä»¬å†æ€è€ƒï¼š**ä¸ºä»€ä¹ˆæ¥å£è¿”å›å€¼ä¸å…è®¸ä½¿ç”¨æšä¸¾ç±»å‹æˆ–è€…åŒ…å«æšä¸¾ç±»å‹çš„ POJO å¯¹è±¡ï¼Ÿ**

ä¸Šé¢è®²åˆ°ååºåˆ—åŒ–æšä¸¾ç±»ä¼šè°ƒç”¨ `java.lang.Enum#valueOf` ï¼š

```java
/**
     * Returns the enum constant of the specified enum type with the
     * specified name.  The name must match exactly an identifier used
     * to declare an enum constant in this type.  (Extraneous whitespace
     * characters are not permitted.)
     *
     * <p>Note that for a particular enum type {@code T}, the
     * implicitly declared {@code public static T valueOf(String)}
     * method on that enum may be used instead of this method to map
     * from a name to the corresponding enum constant.  All the
     * constants of an enum type can be obtained by calling the
     * implicit {@code public static T[] values()} method of that
     * type.
     *
     * @param <T> The enum type whose constant is to be returned
     * @param enumType the {@code Class} object of the enum type from which
     *      to return a constant
     * @param name the name of the constant to return
     * @return the enum constant of the specified enum type with the
     *      specified name
     * @throws IllegalArgumentException if the specified enum type has
     *         no constant with the specified name, or the specified
     *         class object does not represent an enum type
     * @throws NullPointerException if {@code enumType} or {@code name}
     *         is null
     * @since 1.5
     */
    public static <T extends Enum<T>> T valueOf(Class<T> enumType,
                                                String name) {
        T result = enumType.enumConstantDirectory().get(name);
        if (result != null)
            return result;
        if (name == null)
            throw new NullPointerException("Name is null");
        throw new IllegalArgumentException(
            "No enum constant " + enumType.getCanonicalName() + "." + name);
    }
```

å¤§å®¶å¯ä»¥è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå°†æšä¸¾å½“åš RPC æ¥å£çš„è¿”å›å€¼æˆ–è€…è¿”å›å€¼å¯¹è±¡çš„å±æ€§ã€‚å¦‚æœå·±æ–¹æ¥å£æ–°å¢æšä¸¾å¸¸é‡ï¼Œè€ŒäºŒæ–¹ï¼ˆå…¬å¸çš„å…¶ä»–éƒ¨é—¨ï¼‰æ²¡æœ‰åŠæ—¶å‡çº§ JAR åŒ…ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ

æ­¤æ—¶ï¼Œå¦‚æœå·±æ–¹è°ƒç”¨æ­¤æ¥å£æ—¶ä¼ å…¥æ–°çš„æšä¸¾å¸¸é‡ï¼Œè¿›è¡Œåºåˆ—åŒ–ã€‚

ååºåˆ—åŒ–æ—¶ä¼šè°ƒç”¨åˆ° `java.lang.Enum#valueOf` å‡½æ•°ï¼Œ æ­¤æ—¶å‚æ•° `name` å€¼ä¸ºæ–°çš„æšä¸¾åç§°ã€‚

```java
T result = enumType.enumConstantDirectory().get(name);
```

æ­¤æ—¶ `result = null` ï¼Œä»æºç å¯ä»¥çœ‹å‡ºï¼Œå°†ä¼šæŠ›å‡º `IllegalArgumentException` ã€‚

é€šè¿‡æŸ¥çœ‹è¯¥å‡½æ•°é¡¶éƒ¨çš„ `@throws IllegalArgumentException` æ³¨é‡Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—çŸ¥ï¼š

> å¦‚æœæšä¸¾ç±»æ²¡æœ‰è¯¥å¸¸é‡ï¼Œæˆ–è€…è¯¥ååºåˆ—åŒ–çš„ç±»å¯¹è±¡å¹¶ä¸æ˜¯æšä¸¾ç±»å‹åˆ™ä¼šæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚

å› æ­¤ï¼ŒäºŒæ–¹çš„æšä¸¾ç±»æ·»åŠ æ–°çš„å¸¸é‡åï¼Œå¦‚æœä½¿ç”¨æ–¹æ²¡æœ‰åŠæ—¶æ›´æ–° JAR åŒ…ï¼Œä½¿ç”¨ Java ååºåˆ—åŒ–æ—¶å¯èƒ½ä¼šæŠ›å‡º `IllegalArgumentException` ã€‚

é™¤äº† Java åºåˆ—åŒ–ã€ååºåˆ—åŒ–å¤–ï¼Œå…¶ä»–çš„åºåˆ—åŒ–æ¡†æ¶å¯¹äºæšä¸¾ç±»å¤„ç†ä¹Ÿå®¹æ˜“å‡ºç°å„ç§é”™è¯¯ï¼Œå› æ­¤è¯·ä¸¥æ ¼éµå®ˆè¿™ä¸€æ¡ã€‚

å¤§å®¶å¯ä»¥é€šè¿‡ä¸º `CoinEnum` æšä¸¾ç±»æ–°å¢ä¸€ä¸ªæšä¸¾å¸¸é‡ï¼Œå¹¶å°†æ–°å¢çš„æšä¸¾å¸¸é‡é€šè¿‡ Java åºåˆ—åŒ–åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨æºç ä¸­æ³¨é‡Šæ‰æ–°å¢çš„æšä¸¾å¸¸é‡ï¼Œå†ååºåˆ—åŒ–ï¼Œæ¥å¤ç°è¿™ä¸ª BUGã€‚

**æœ‰æ²¡æœ‰å¥½çš„è§£å†³åŠæ³•ï¼Ÿ**

æœ€å¸¸è§çš„åšæ³•å°±æ˜¯è¿”å›æšä¸¾çš„æ•°å€¼ï¼Œå¹¶åœ¨è¿”å›çš„åŒ…ä¸­ç»™å‡ºæšä¸¾ç±»ï¼Œåœ¨æšä¸¾ç±»ä¸­æä¾›é€šè¿‡æ ¹æ®å€¼å»è·å–æšä¸¾å¸¸é‡çš„æ–¹æ³•ï¼ˆå…·ä½“åšæ³•è§ä¸‹æ–‡ï¼‰ã€‚

å¹¶é€šè¿‡ä½¿ç”¨ `@see` æˆ– `{@link}` åœ¨è¯¥è¿”å›çš„æšä¸¾çš„æ•°å€¼æ³¨é‡Šä¸­ç»™å‡ºæŒ‡å‘æšä¸¾ç±»çš„å¿«æ·æ–¹å¼ï¼Œå¦‚ï¼š

```java
/**
 * ç¡¬å¸å€¼ï¼Œå¯¹åº”çš„æšä¸¾å‚è§{@link CoinEnum}
 */
private Integer coinValue;
```



# 3. æ ¹æ®å€¼è·å–æšä¸¾å¸¸é‡çš„ç”¨æ³•

å¶å°”ä¼šé‡åˆ°æœ‰äº›å›¢é˜Ÿå®ç°é€šè¿‡æšä¸¾ä¸­çš„å€¼è·å–æšä¸¾å¸¸é‡æ—¶ï¼Œå±…ç„¶ç”¨ switch ï¼Œéå¸¸è®©äººåƒæƒŠã€‚

å¦‚ä¸Šé¢çš„ `CoinEnum` çš„æ ¹æ®å€¼è·å–æšä¸¾çš„å‡½æ•°ï¼Œæœ‰äº›äººä¼šè¿™ä¹ˆå†™ï¼š

```java
public static CoinEnum getByValue(int value) {
        switch (value) {
            case 1:
                return PENNY;
            case 5:
                return NICKEL;
            case 10:
                return DIME;
            case 25:
                return QUARTER;
            default:
                return null;
        }
    }
```

è¿™æ ·åšä¸ç¬¦åˆè®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™ä¹‹ä¸€çš„ â€œå¼€é—­åŸåˆ™â€ï¼Œå› ä¸ºå¦‚æœæ–°å¢ä¸€ä¸ªæšä¸¾å¸¸é‡ï¼Œä¹Ÿéœ€è¦åœ¨è¯¥å‡½æ•°ä¸­æ·»åŠ ä¸€ä¸ª caseã€‚

> å¼€é—­åŸåˆ™ï¼šå¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚

å¦å¤–å¦‚æœæšä¸¾å¸¸é‡è¾ƒå¤šï¼Œå¾ˆå®¹æ˜“æ˜ å°„é”™è¯¯ï¼ŒåæœŸå¾ˆéš¾ç»´æŠ¤ã€‚

å¯ä»¥ä½¿ç”¨åˆ©ç”¨å·²æœ‰å‡½æ•°ï¼Œä½¿ç”¨ä¸‹é¢çš„å†™æ³•ï¼š

```java
public static CoinEnum getByValue(int value) {
    for (CoinEnum coinEnum : CoinEnum.values()) {
        if (coinEnum.value == value) {
            return coinEnum;
        }
    }
    return null;
}
```



# 4. æšä¸¾çš„é«˜çº§ç”¨æ³•



## 4.1 å®ç°è®¡ç®—

ä»å®˜æ–¹æ–‡æ¡£ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæšä¸¾å¸¸é‡å¯ä»¥å¸¦ç±»æ–¹æ³•ï¼š

```java
enum Operation {
    PLUS {
        double eval(double x, double y) { return x + y; }
    },
    MINUS {
        double eval(double x, double y) { return x - y; }
    },
    TIMES {
        double eval(double x, double y) { return x * y; }
    },
    DIVIDED_BY {
        double eval(double x, double y) { return x / y; }
    };

    // Each constant supports an arithmetic operation
    abstract double eval(double x, double y);

    public static void main(String args[]) {
        double x = Double.parseDouble(args[0]);
        double y = Double.parseDouble(args[1]);
        for (Operation op : Operation.values())
            System.out.println(x + " " + op + " " + y +
                               " = " + op.eval(x, y));
    }
}
```

å¯ä»¥åœ¨æšä¸¾ç±»ä¸­å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Œåœ¨æšä¸¾å¸¸é‡ä¸­å®ç°è¯¥æ–¹æ³•æ¥æä¾›è®¡ç®—ç­‰åŠŸèƒ½.

JDK æºç ä¸­å¸¸è§çš„æšä¸¾ç±»ï¼š `java.util.concurrent.TimeUnit` ç±»å°±æœ‰ç±»ä¼¼çš„ç”¨æ³•ã€‚

è¿™ç§ç­–ç•¥æšä¸¾æ–¹å¼ä¹Ÿæ˜¯æ›¿ä»£ if - else if - else çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚



## 4.2 å®ç°çŠ¶æ€æœº

å‡è®¾ä¸šåŠ¡å¼€å‘ä¸­éœ€è¦å®ç°çŠ¶æ€æµè½¬çš„åŠŸèƒ½ã€‚

æ´»åŠ¨æœ‰ï¼šç”³æŠ¥ -> æ‰¹å‡† -> æŠ¥å -> å¼€å§‹ -> ç»“æŸå‡ ç§çŠ¶æ€ï¼Œä¾æ¬¡æµè½¬ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç å®ç°ï¼š

```java
public enum ActivityStatesEnum {
    /**
     * æ´»åŠ¨çŠ¶æ€
     * ç”³æŠ¥-> æ‰¹å‡†-> æŠ¥å -> å¼€å§‹ -> ç»“æŸ
     */
    DEACLARE(1) {
        @Override
        ActivityStatesEnum nextState() {
            return APPROVE;
        }
    },
    APPROVE(2) {
        @Override
        ActivityStatesEnum nextState() {
            return ENROLL;
        }
    },
    ENROLL(3) {
        @Override
        ActivityStatesEnum nextState() {
            return START;
        }
    },
    START(4) {
        @Override
        ActivityStatesEnum nextState() {
            return END;
        }
    },
    END(5) {
        @Override
        ActivityStatesEnum nextState() {
            return this;
        }
    };

    private int status;

    abstract ActivityStatesEnum nextState();

    ActivityStatesEnum(int status) {
        this.status = status;
    }
  
  public ActivityStatesEnum getEnum(int status) {
        for (ActivityStatesEnum statesEnum : ActivityStatesEnum.values()) {
            if (statesEnum.status == status) {
                return statesEnum;
            }
        }
        return null;
    }
}
```

è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥é€šè¿‡ `getEnum` å‡½æ•°è·å–æšä¸¾ï¼Œç›´æ¥é€šè¿‡ `nextState` æ¥è·å–ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œæ›´å®¹æ˜“å°è£…çŠ¶æ€æµè½¬çš„å‡½æ•°ï¼Œä¸éœ€è¦æ¯ä¸ªçŠ¶æ€éƒ½é€šè¿‡ `if` åˆ¤æ–­å†æŒ‡å®šä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œä¹Ÿé™ä½å‡ºé”™çš„æ¦‚ç‡ã€‚



## 4.3 çµæ´»çš„ç‰¹æ€§ç»„åˆ

fastjson çš„ `com.alibaba.fastjson.parser.Feature` ç±»ï¼Œçµæ´»ä½¿ç”¨ `java.lang.Enum#ordinal` å’Œä½è¿ç®—å®ç°äº†çµæ´»çš„ç‰¹æ€§ç»„åˆã€‚

æºç å¦‚ä¸‹ï¼š

```java
 public enum Feature {

    AutoCloseSource,
   
   // çœç•¥äº†ä¸€éƒ¨åˆ†ä»£ç 
   
   Feature(){
        mask = (1 << ordinal());
    }

    public final int mask;

    public final int getMask() {
        return mask;
    }

    public static boolean isEnabled(int features, Feature feature) {
        return (features & feature.mask) != 0;
    }

    public static int config(int features, Feature feature, boolean state) {
        if (state) {
            features |= feature.mask;
        } else {
            features &= ~feature.mask;
        }

        return features;
    }
    
    public static int of(Feature[] features) {
        if (features == null) {
            return 0;
        }
        
        int value = 0;
        
        for (Feature feature: features) {
            value |= feature.mask;
        }
        
        return value;
    }
 }
```

æˆ‘ä»¬çŸ¥é“ `java.lang.Enum#ordinal` è¡¨ç¤ºæšä¸¾åºå·ã€‚å› æ­¤å¯ä»¥é€šè¿‡å°† 1 å·¦ç§»æšä¸¾åºå·ä¸ªä½ç½®ï¼Œæ„é€ å„ç§ç‰¹æ€§çš„æ©ç ã€‚

å„ç§ç‰¹æ€§çš„æ©ç å¯ä»¥ä»»æ„ç»„åˆï¼Œæ¥è¡¨ç¤ºä¸åŒçš„ç‰¹å¾ç»„åˆï¼Œä¹Ÿå¯ä»¥æ ¹æ®ç‰¹æ€§å€¼åå‘è§£æå‡ºè¿™äº›ç‰¹æ€§ç»„åˆã€‚



# 5. æ€»ç»“

æœ¬èŠ‚ä½¿ç”¨çš„å­¦ä¹ æ–¹æ³•æœ‰ï¼Œæ€è€ƒæŠ€æœ¯çš„åˆè¡·ï¼Œå®˜æ–¹æ–‡æ¡£ï¼Œè¯»æºç å’Œåæ±‡ç¼–ã€‚

ä¸»è¦è¦ç‚¹å¦‚ä¸‹ï¼š

1. æšä¸¾ä¸€èˆ¬è¡¨ç¤ºç›¸åŒç±»å‹çš„å¸¸é‡ã€‚
2. æšä¸¾éšå¼ç»§æ‰¿è‡ª `Enum` ï¼Œå®ç°äº† `Comparable` å’Œ `Serializable` æ¥å£ã€‚
3. `java.util.EnumSet` å’Œ `java.util.EnumMap` æ˜¯ä¸¤ç§å…³äº `Enum` çš„æ•°æ®ç»“æ„ã€‚
4. æšä¸¾ç±»å¯ä»¥ä½¿ç”¨å…¶ `ordinal` å±æ€§ï¼Œé€šè¿‡å®šä¹‰æŠ½è±¡å‡½æ•°ã€å®ç°æ¥å£ç­‰æ–¹å¼å®ç°é«˜çº§ç”¨æ³•ã€‚

æ›´å¤šæšä¸¾è¿›é˜¶çŸ¥è¯†å¯å‚è€ƒã€ŠEffective Javaã€‹ ç¬¬ 6 ç«  æšä¸¾å’Œæ³¨è§£ã€‚

ä¸‹ä¸€èŠ‚å°†è®²è¿° `ArrayList` ç±»çš„ `subList` å‡½æ•°å’Œ `Arrays` ç±»çš„ `asList` å‡½æ•°ã€‚



# è¯¾åé¢˜

1ã€é€šè¿‡å‰å‡ èŠ‚ä»‹ç»çš„ `codota` æ¥å­¦ä¹ ä¸¤ç§å’Œ `Enum` ç›¸å…³çš„æ•°æ®ç»“æ„ ï¼š`java.util.EnumSet` å’Œ `java.util.EnumMap` çš„ç”¨æ³•ã€‚

2ã€è¯·ä¸º `CoinEnum` æšä¸¾ç±»æ–°å¢ä¸€ä¸ªæšä¸¾å¸¸é‡ï¼Œå¹¶å°†æ–°å¢çš„æšä¸¾å¸¸é‡é€šè¿‡ Java åºåˆ—åŒ–åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶åæ³¨é‡Šæ‰æºç ä¸­æ–°å¢çš„æšä¸¾å¸¸é‡ï¼Œå†ååºåˆ—åŒ–ï¼Œè§‚å¯Ÿæ•ˆæœã€‚



# å‚è€ƒèµ„æ–™

------

1. é˜¿é‡Œå·´å·´ä¸ Java ç¤¾åŒºå¼€å‘è€….ã€Š Java å¼€å‘æ‰‹å†Œ 1.5.0ã€‹åå±±ç‰ˆ. 2019 [â†©ï¸](http://www.imooc.com/read/55/article/1147#fnref1)
2. [ç¾] Joshua Bloch.ã€ŠEffective Javaã€‹[M]. ä¿é»æ•ï¼Œè¯‘ã€‚èƒŒæ™¯ï¼šæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ2019:131 [â†©ï¸](http://www.imooc.com/read/55/article/1147#fnref2)
3. James Gosling, Bill Joy, Guy Steele, Gilad Bracha, Alex Buckley.ã€ŠJava Language Specification: Java SE 8 Editionã€‹. 2015 [â†©ï¸](http://www.imooc.com/read/55/article/1147#fnref3)
